{"version":3,"sources":["redux/profile-reducer.js","assets/images/preloader.svg","components/common/preloader/Preloader.js","redux/dialogs-reducer.js","redux/users-reducer.js","api/api.js","reportWebVitals.js","redux/sidebar-reducer.js","redux/app-reducer.js","redux/redux-store.js","App.js","index.js","redux/auth-reducer.js"],"names":["ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","SAVE_PROFILE_SUCCESS","initialState","posts","id","message","likesCount","profile","status","addPostActionCreator","newPostText","type","getUserProfile","userId","dispatch","a","profileAPI","getProfile","response","data","getStatus","updateStatus","resultCode","savePhoto","file","photos","saveProfile","getState","auth","stopSubmit","_error","messages","Promise","reject","profileReducer","state","action","newPost","Preloader","props","Stack","sx","width","color","spacing","LinearProgress","SEND_MESSAGE","dialogs","name","sendMessageCreator","newMessageBody","dialogsReducer","body","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","getUsers","usersAPI","items","totalCount","count","followUnfollowFlow","usersId","apiMethod","actionCreator","follow","bind","unfollow","usersReducer","map","u","followed","filter","instance","axios","withCredentials","baseURL","headers","get","then","post","delete","put","photoFile","formData","FormData","append","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","sidebarReducer","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","authReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","React","lazy","Login","Music","News","Setting","UsersContainer","HeaderContainer","Nav","ProfileContainer","App","this","initializeApp","fallback","Box","Paper","className","path","render","Component","withRouter","connect","promise","getAuthUserData","all","ReactDOM","StyledEngineProvider","injectFirst","document","getElementById","SET_USER_DATA","isAuth","setAuthUserData","payload","length"],"mappings":"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","file":"static/js/main.9c79ac8c.chunk.js","sourcesContent":["import { stopSubmit } from \"redux-form\";\r\nimport { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'PROFILE/ADD-POST';\r\nconst SET_USER_PROFILE = 'PROFILE/SET_USER_PROFILE';\r\nconst SET_STATUS = 'PROFILE/SET_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'PROFILE/SAVE_PHOTO_SUCCESS';\r\nconst SAVE_PROFILE_SUCCESS = 'SAVE_PROFILE_SUCCESS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: 'Hi, how are you?', likesCount: 12 },\r\n        { id: 2, message: 'It\\'s my first post', likesCount: 11 },\r\n        { id: 3, message: 'Blabla', likesCount: 11 },\r\n        { id: 4, message: 'Dada', likesCount: 11 }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, photos: action.photos }\r\n            };\r\n\r\n        case SAVE_PROFILE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, data: action.data }\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    };\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\nexport const saveProfileSuccess = (profile) => ({ type: SAVE_PROFILE_SUCCESS, profile })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(getStatus(response.data));\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(updateStatus(status));\r\n    }\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => { //санка загрузки фото на сервер\r\n    let response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId; //санка для обновления профиля\r\n    const response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n     } else {\r\n        dispatch(stopSubmit('edit-profile', { _error: response.data.messages[0] }));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n}\r\n\r\nexport default profileReducer;","export default __webpack_public_path__ + \"static/media/preloader.15c4f2e0.svg\";","import * as React from 'react'\r\nimport Stack from '@mui/material/Stack';\r\nimport LinearProgress from '@mui/material/LinearProgress'\r\nimport preloader from './../../../assets/images/preloader.svg'\r\nimport { Box } from '@mui/system';\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <Stack sx={{ width: '100%', color: 'grey.500' }} spacing={2}>\r\n            <LinearProgress color=\"secondary\" />\r\n            <LinearProgress color=\"success\" />\r\n            <LinearProgress color=\"inherit\" />\r\n        </Stack>\r\n    )\r\n}\r\n\r\nexport default Preloader;\r\n","const SEND_MESSAGE = 'DIALOGS/SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Dimych' },\r\n        { id: 2, name: 'Andrew' },\r\n        { id: 3, name: 'Sveta' },\r\n        { id: 4, name: 'Sasha' },\r\n        { id: 5, name: 'Viktor' },\r\n        { id: 6, name: 'Valera' }\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'How is your it-kamasutra?' },\r\n        { id: 3, message: 'Yo' },\r\n        { id: 4, message: 'Yo' },\r\n        { id: 5, message: 'Yo' }\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: 6, message: body }]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody })\r\n\r\nexport default dialogsReducer;","import { usersAPI } from '../api/api'\r\n\r\nconst FOLLOW = 'USERS/FOLLOW';\r\nconst UNFOLLOW = 'USERS/UNFOLLOW';\r\nconst SET_USERS = 'USERS/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'USERS/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'USERS/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'USERS/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'USERS/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 4,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return { ...u, followed: true }\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.count }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(currentPage));\r\n        let data = await usersAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, usersId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, usersId));\r\n    let response = await apiMethod(usersId);\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(usersId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, usersId));\r\n}\r\n\r\nexport const follow = (usersId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(usersAPI);\r\n        let actionCreator = followSuccess;\r\n        followUnfollowFlow(dispatch, usersId, apiMethod, actionCreator);\r\n    }\r\n}\r\nexport const unfollow = (usersId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n        let actionCreator = unfollowSuccess;\r\n        followUnfollowFlow(dispatch, usersId, apiMethod, actionCreator);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"a23d804b-bd28-49ba-b53e-c5e8fdb280f6\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            });\r\n    },\r\n\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, { status });\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        } );\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n}\r\nexport const authAPI = {\r\n   me() { \r\n       return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n    return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    //dispatch(somethingelse());\r\n    //dispatch(somethingelse());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n}\r\n\r\n\r\nexport default appReducer;","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\"\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport sidebarReducer from './sidebar-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\"\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React, { Component, Suspense } from 'react'\r\nimport { Route, withRouter } from 'react-router-dom';\r\nimport './App.css';\r\nimport classes from './App.css';\r\nimport { connect } from 'react-redux';\r\nimport { initializeApp } from \"./redux/app-reducer\"\r\nimport { compose } from 'redux';\r\nimport Preloader from './components/common/preloader/Preloader';\r\nimport { Box } from '@mui/system';\r\nimport LinearProgress from '@mui/material/LinearProgress'\r\nimport { Paper } from '@material-ui/core';\r\n\r\n/* lazy off\r\n//import UsersContainer from './components/Users/UsersContainer';\r\n//import DialogsContainer from './components/Dialogs/DialogsContainer';\r\n//import Music from './components/Music/Music';\r\n//import News from './components/News/News';\r\n//import Setting from './components/Setting/Setting';\r\n//import Nav from './Nav/Nav';\r\n//import ProfileContainer from './Profile/ProfileContainer';\r\n//import HeaderContainer from './Header/HeaderContainer';\r\n//import Login from './components/Login/Login'\r\n*/\r\n\r\n//lazy on\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst Login = React.lazy(() => import('./components/Login/Login'))\r\nconst Music = React.lazy(() => import('./components/Music/Music'))\r\nconst News = React.lazy(() => import('./components/News/News'))\r\nconst Setting = React.lazy(() => import('./components/Setting/Setting'))\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\r\nconst HeaderContainer = React.lazy(() => import('./Header/HeaderContainer'))\r\nconst Nav = React.lazy(() => import('./Nav/Nav'))\r\nconst ProfileContainer = React.lazy(() => import('./Profile/ProfileContainer'))\r\n\r\n\r\n\r\nclass App extends Component {\r\n  componentDidMount() { this.props.initializeApp(); }\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n    return (\r\n      //Не забыть сделать нормальную крутилку\r\n      <Suspense fallback={<Box><LinearProgress /></Box>}>\r\n        <Paper className='app-wrapper'>\r\n          <HeaderContainer />\r\n          <Nav />\r\n          <Box className='app-wrapper-content'>\r\n            <Route path='/dialogs' render={() => { return <DialogsContainer /> }} />\r\n            <Route path='/profile/:userId?' render={() => { return <ProfileContainer /> }} />\r\n            <Route path='/users' render={() => { return <UsersContainer /> }} />\r\n            <Route path='/login' render={() => { return <Login /> }} />\r\n            <Route path='/news' render={() => { return <News /> }} />\r\n            <Route path='/music' render={() => { return <Music /> }} />\r\n            <Route path='/setting' render={() => { return <Setting /> }} />\r\n          </Box>\r\n        </Paper>\r\n      </Suspense>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))(App);","import reportWebVitals from './reportWebVitals';\r\nimport store from './redux/redux-store';\r\nimport * as React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport {Provider} from 'react-redux';\r\nimport StyledEngineProvider  from '@mui/styled-engine/StyledEngineProvider';\r\nimport '@fontsource/roboto/500.css';\r\n\r\n\r\n    ReactDOM.render(\r\n        <StyledEngineProvider injectFirst>\r\n        <BrowserRouter>\r\n            <Provider store={store}>\r\n                <App />\r\n            </Provider>\r\n        </BrowserRouter>\r\n        </StyledEngineProvider>, document.getElementById('root'));\r\n\r\nreportWebVitals();\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'AUTH/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA, payload: { userId, email, login, isAuth }\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let { id, login, email } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit('login', { _error: message }));\r\n    }\r\n}\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;"],"sourceRoot":""}